1、get_fv_less 中getNewPrice、getLastPrice、getVolumeMultiple这几个函数是干什么的。分别是获取什么样子的数据。
2、mdprice的对象每一个参数的实际意义是什么，代表什么意思。
3、传入的Param参数，就是从前端界面中获取到的参数吗。
4、袁总说trigger size也是需要一个参数的，先设置成100，那么这个参数代表什么意思，具体用在哪，在哪个函数中需哟。


策略问题：
1、大部分的时间是处于非0.5之间的，如果是直接下降或者直接上升的话，会从两个0.5之间穿过去。但是从-0.5穿过去的时候，这时候卖空，但是此时的价格还是会上升的，这样怎么办。及时的exit，然后发现机会的时候，在及时的entry。
2、请袁总讲讲trigger size？ 只是看代码，因为没有注释，各个参数代表什么意思也不知道，所以看起来比较费劲。就简单的讲讲，意思能明白就好。
每一个tick的成交量，当前tick的成交量，成交类型。

3、袁总讲下单方式。
 entry 进入：trigger size。better，match，across，这个是一个选项。
 exit 推出：band，0-0.5 买进，往上走，exit的目标，定在2个标准差。 一直在0。5 到2 之间hold到最后。
      往下穿，到了-0.5 就可以止损了。向上走或者向下走，就设置好，这个都是一个比较灵活的参数，可以随时设置。向上2，向下的就是-0.5

要做的事：
1、根据tirgger和布林带的概念，用js读取数据，然后画图。对于下单的那个点，要高亮显示。还要有一个保存图片的按钮。
	此时发的图片要大一些吧，然后查一查echarts 高亮显示的方法。还有trigger的方法。也就是trigger size的几个公式的参数的意义。
2、把布林带的方法加到trigger size中。


回答：
trigger有三个条件，一个是size，就是最大的交易手数，然后就是一个成交价占买一或者卖一的百分比。还有就是他的持仓是增加的多少。
index就是那个持仓的增加和减少。
spread就是固定价差，就是占的百分比。
openEdge就是那个size。



策略问题：
1、如果exit的时候，trigger也有自己的推出机制，band也有自己的，按照谁的来呢。
2、夜盘要不要跑起来，然后保存数据。隔夜的数据能不能连起来。然后跑那个ema和sd等方差。
3、 每天白天收盘的时候，保存最后一小时的数据，然后等第二天的时候，接着跑这个数据，只是数据没有夜盘的信息。
4、或者把周期调整好，然后edge弄大了。
5、问袁总实验这个夜盘的数据， 以后给他两个数据，一个是有夜盘数据的，一个是没有夜盘数据的。我感觉因为刚开始的时候，趋势变化比较明显，有盈利的机会。


参数设置方法：
  在下面挂单调整那一项:
  	PostionAdj 为1代表使用ma，如果为0，表示使用ema。
  	ShortCompXave 为开仓的边界，因为最后求值的时候是除以10，所以开仓边界可以设置为5.
  	LongCompXave 为平仓边界，因为最后求值的时候除以了10，所以平仓的边界一般都是设置成20.
  价格中：
    CompXave 是指ema或者ma和sd的周期数，一般都是按照tick来算的，60分钟的话，就是用60*60*2
  边界中：
  	spread 固定价差，设置的是上一个tick的平均成交价是多少，占卖一价和买一价的百分比是多少。


注意：为了测试这个退出的机制到底好不好，可以缩小trigger size的条件，尽量多开仓，这样才能测试出好坏，现在设置的是500

4、现在的问题是开仓的trigger是多少，目前来说是900，回来测试一下，到底900好一些还是1000好一些。


测试的方法：
1、尽快的去进入到模拟的测试。然后要有数据。
2、螺纹钢的价位的。
思考：1、某一段的trigger size可以添加。可以是几个tick。可以抓大的盈利，允许小的亏损。一天抓到两三个最好。
     2、怎么过滤到不好的条件。怎么加，到底加多少也是一个探索的过程。
     3、标准差达到一定的条件之后才开仓。这个是可以，但是就是会消失挣钱的机会。

2、rsi,14分钟的周期，80以上exist，20以下exist，这个也是一个参数来设置。还有就是最大回撤是多少，可以设置。

策略代码：
1、根据sd太窄的时候，扩大这个平仓的边界，注意，只是盈利的时候，这时候，edge在加上1或者2，注意是加法。
2、现在应该考虑两个方面，首先，在进入市场的时候，要看看，怎么样尽量好的去退出市场。在此基础上，在看怎么样更好的进入市场。

3、在退出市场的时候，主要是退出的太早了，那么怎么不早呢，首先是band变成3，然后当sd太窄的时候变成4. 然后在加上 当时rsi的限制。rsi必须大于80. 然后当这一单的盈利大于200的时候，直接就平仓。
还有一个考虑思路就是根据sd的大小，动态的设置band增加多少，应该是4倍的减去当前的sd的值，就是增加的多少。这个应该和加1的去比较。

!!! 现在最终的平仓条件是，首先判断是不是达到了最大的盈利，如果达到之后，直接平仓。然后看最大回撤，是不是达到了一定的值，如果达到了，然后平仓。然后根据band和rsi来判断，如果band是止损的话，直接平仓。如果止盈的话，然后是大于3，然后rsi大于80或者低于20.

首先螺纹钢的最大止盈是25，止损是10. 最大回撤是10.然后rsi的周期是25。band小于4倍的时候，加1 ，如果下于两倍的话，band加1 ，然后止损的变成1，也就是2倍就好了。开仓的trigger 是900.

单位先按照tick算，就是最小变动价位，5.
橡胶的数据：最大止盈位为150，最大止损为100.
  最大回撤是100， rsi的周期是20. band下于20的时候 band加1 如果小于10的时候，止损的band也加1
  开仓的时候trigger 设置的是120，

现在的策略：
进入是0.5 ，退出是1，然后止盈的退出是3，同时满足rsi大于80或者小于20.


现在问题：
6、不用bool band来退出，直接根据止盈止损具体的钱来退出。
7、不用bool band来进行盈利退出，只是根据1进行止损退出，盈利退出单独的根据钱来算。
5、还需要一个最大回撤的值，看看最大回撤设置多少合适。
1，rsi的周期的设置，到底bar是多少合适。 还有整个的周期是多少。需要跑程序。
2，是不是可以用ema来平滑这个last price，然后根据这个值，来判断是不是平仓。
3，到底进入的时候是1好一点还是0.5好一点。
4、测试一下，这个band 如果小于4倍的时候，band加1会不会好一点，这样主要是为了防止提前退出。
5、还有就是在标准差小于1倍或者2倍的时候，然后退出的1变成2或者是什么方法，总之就是增加一下？



问题20170629:
1、今天情况max draw down 表现的止损好一点。因为开的单子都是损失的。
2、下单的情况还需要在考虑，因为都是下的错的订单。正确的没有下。
3、试试不是0.5下单，而是1下单的情况。

总体思路：
  如果有盈利的时候，抓住单子，
  考虑进入的市场的时机，为什么趋势来的时候，手上没有单子，而且平时的时候，单子倒是挺多
  考虑调整时期，1止损的情况，是不是可以调整一下。

  sd/lastprice 好像确实好一点。


思考 20170703
1、要么就是小于3倍的sd或者sd/lastprice 不平，要么就是严格按照1平的策略。
2、震荡的时候，好像不平的话，然后去除最大的止盈。这个好像会好一点。或者就不设置止盈。 但是这个就要设置好止损，因为这个退出的机制太严格，这样的话，损失的会很大，所以止损应该设置的小一点。

20170707 
1、像铅这种交易量小的，是不是可以考虑将周期弄的小一些。不然的话，时间太长了。
2、很窄的时候，进入的条件也要变化一下，变成1，
3、看一下橡胶的开仓和平仓的手续费


20170711:
1、如果继续开仓的话，要不要在已经成交之后，在1到1.5之间，继续开仓？ 这样扩大盈利？？？
2、一开始就是开很多，例如10手。 但是总仓量是不变的，是20手，或者更多，这样如果出现一个信号，就会多开。
3、测试一下就是刚开始即使没有到周期，也就是还没有达到3600个tick时候。如果达到了条件也要下单的。
4、铅的不同的周期算一下，用2000算一下。铅的rsi周期要变化一下。(注意： 这个已经试过了，2000的效果不太好，经常是盈利也打，亏损也大，基本上就是开仓太多，和布林带的关系可能不大了。)
5、在sd小于一定的值的时候，开仓边界也变大，平仓边界也变大。



修改策略：
1、positionadj 就是rsi的bar。100
2、shortcompxave 就是rsi的周期，10
3、longompxave 就是rsi的边界 80


20170714 band and trigger size 修改:
开平仓条件：
平仓map，3倍的之内的，就是不平，然后做好止损操作。
开仓3倍以内的话，就是1.
rsi 超买或者超卖的话，反方向的策略即使的去止损。（这个东西还需要去测试。问题就是如果盈利的时候，那么震荡的时候超买或者超卖了怎么办。
所以说，还是只是限制在3倍的时候算，其他的就不算。）
如果6倍以内的话，盈利的变成5倍的band。退出还是1倍的band。
这个就不需要设置。
然后6倍以上的，盈利的变成3倍的band。退出变成1倍的band。

如果是由宽到窄的话，那么就及时的平吧。说明要震荡了。

退出的时候，还是要看rsi，如果开long的话，如果rsi已经变成了30以下了，就应该果断的平掉。

将trigger size 1个tick的，变成多个tick的。其中diff volume 用ema进行平滑。open interset用相加的方式，看看这个几个tick是不是增加的。 然后spread 用加权平均的方式，权制就是diff volume。
统一先用6个tick，也就是3s中的时间来看。


螺纹钢的 diff volume是300，open interest是0，然后spread是90




20170718:
现在的基础上，修改一下open interest的值，然后减少diff volume的值



20170720:
添加了3倍的开仓和平仓条件，分别是spread open——edge和close edge。也就是对冲合约对应的。固定价差，开仓边界和平仓边界。固定价差是一个int。然后 开仓边界和平仓边界是double。但是都除以了10.注意设置参数的时候。
注意固定价差算的是一个值啊，几倍的，要乘以最小变动价位。



新的策略：
左边的参数，挂单调整是用来rsi的，分别是120，14，80，就是bar的长度，然后分钟数和rsi限制数。
trigger size的设置还是右边的固定价差，开仓边界和index 三个参数。

现在trigger size是根据tick的数目，固定价差就是tick的数目，可以设置成10，就是10个tick。
然后开仓边界就是从多少开始开，一般是0.5，在这里就是设置成10倍的。因为是一个范围，所以就是开仓边界平仓边界。5-10，实际上就是0.5，到1
左边的边界调整就是平仓的参数，可以设置成0或者0.5，但是一般是倍数。撤单边界就是盈利的时候的边界一般是设置成3
左边的edge work 就是限制sd的大小，一般也是乘以了10，螺纹钢一般设置成40，下一个orderdelay就是开仓的后边界，就是从0.5，到多少，可以变成1.5，当然也是乘以10.后面的滑价上线是当小于sd的时候的平仓边界，可以设置成0.5.当然也要乘以10.



trigger size feed 策略，主要就是赚回复的钱，当last price 大于布林带的开仓边界，并且rsi大于设置的值的时候就开仓，开反方向。同时什么时候退出呢，应该是反方向的那个？还是middle线呢。还需不需要达到rsi的值呢。这个退出先不考虑，先考虑进入。